# ============================================
# Division Zero - Cloudflare Worker Config
# ============================================
# 
# SETUP STEPS:
# 1. Install Wrangler: npm install -g wrangler
# 2. Login: wrangler login
# 3. Create KV namespace: wrangler kv:namespace create PROJECTS_KV
# 4. Add the namespace ID below
# 5. Deploy: wrangler deploy
#
# ============================================

name = "divisionzero-sync"
main = "index.js"
compatibility_date = "2024-01-01"

# ============================================
# CRON TRIGGERS
# ============================================
# Runs every 1 hour (configurable)
[triggers]
crons = ["0 * * * *"]

# ============================================
# KV NAMESPACE
# ============================================
# Create with: wrangler kv:namespace create PROJECTS_KV
# Then paste the ID below
[[kv_namespaces]]
binding = "PROJECTS_KV"
id = "YOUR_KV_NAMESPACE_ID_HERE"

# ============================================
# ENVIRONMENT VARIABLES
# ============================================
# Set these with: wrangler secret put SUPABASE_URL
# Or in Cloudflare Dashboard → Workers → Settings → Variables

[vars]
# These are public (non-secret) vars
# SUPABASE_URL = "https://your-project.supabase.co"

# ============================================
# SECRETS (set via CLI or dashboard)
# ============================================
# wrangler secret put SUPABASE_URL
# wrangler secret put SUPABASE_KEY
# wrangler secret put SYNC_SECRET  (optional, for manual sync auth)
